{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\IoT\\\\IoT-WebApp\\\\frontend\\\\src\\\\components\\\\Table.jsx\",\n  _s = $RefreshSig$();\n// src/components/Table.jsx\nimport React, { useState, useMemo } from 'react';\n// import './Table.css'; // Đảm bảo bạn có file CSS này nếu cần\n\n/**\r\n * Component Table chung cho DataSensor và ActionsHistory\r\n * @param {Array} headers - Mảng tiêu đề cột\r\n * @param {Array} data - Dữ liệu bảng (mảng các đối tượng)\r\n * @param {string} title - Tiêu đề của bảng\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Table = ({\n  headers = [],\n  data = [],\n  // SỬA LỖI QUAN TRỌNG 1: Đặt giá trị mặc định là mảng rỗng []\n  title = 'Dữ liệu Bảng',\n  initialPageSize = 10\n}) => {\n  _s();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(initialPageSize);\n\n  // SỬA LỖI QUAN TRỌNG 2: Đảm bảo data luôn là một mảng và được ghi nhớ (memoized)\n  const memoizedData = useMemo(() => {\n    // Nếu data không phải mảng, trả về mảng rỗng để ngăn lỗi .slice()\n    return Array.isArray(data) ? data : [];\n  }, [data]);\n\n  // Logic tính toán phân trang\n  const totalItems = memoizedData.length;\n  const totalPages = Math.ceil(totalItems / pageSize);\n  const startIndex = (currentPage - 1) * pageSize;\n\n  // currentData được tính toán trên mảng đã được kiểm tra (memoizedData)\n  const currentData = memoizedData.slice(startIndex, startIndex + pageSize);\n  const handlePageChange = newPage => {\n    if (newPage >= 1 && newPage <= totalPages) {\n      setCurrentPage(newPage);\n    }\n  };\n  const handlePageSizeChange = e => {\n    const newSize = parseInt(e.target.value);\n    setPageSize(newSize);\n    setCurrentPage(1); // Reset về trang 1 khi thay đổi kích thước trang\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"custom-table-container card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-header-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"table-title\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"page-size-label\",\n          children: [\"K\\xEDch th\\u01B0\\u1EDBc:\", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: pageSize,\n            onChange: handlePageSizeChange,\n            className: \"page-size-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 5,\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 10,\n              children: \"10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 20,\n              children: \"20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"page-info\",\n          children: [\"Trang \", currentPage, \" tr\\xEAn \", totalPages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePageChange(currentPage - 1),\n          disabled: currentPage === 1,\n          className: \"page-button\",\n          children: \"< Tr\\u01B0\\u1EDBc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePageChange(currentPage + 1),\n          disabled: currentPage === totalPages,\n          className: \"page-button\",\n          children: \"Sau >\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"data-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: headers.map((header, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n              children: header\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: currentData.length > 0 ? currentData.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: headers.map((header, colIndex) => /*#__PURE__*/_jsxDEV(\"td\", {\n              children: row[header]\n            }, colIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 41\n            }, this))\n          }, rowIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 33\n          }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: headers.length,\n              className: \"no-data-message\",\n              children: totalItems === 0 ? \"Không có dữ liệu để hiển thị.\" : \"Không tìm thấy dữ liệu trên trang này.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(Table, \"P+5y4y/6MIGxlSw3+2dvIIXuYgI=\");\n_c = Table;\nexport default Table;\nvar _c;\n$RefreshReg$(_c, \"Table\");","map":{"version":3,"names":["React","useState","useMemo","jsxDEV","_jsxDEV","Table","headers","data","title","initialPageSize","_s","currentPage","setCurrentPage","pageSize","setPageSize","memoizedData","Array","isArray","totalItems","length","totalPages","Math","ceil","startIndex","currentData","slice","handlePageChange","newPage","handlePageSizeChange","e","newSize","parseInt","target","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onClick","disabled","map","header","index","row","rowIndex","colIndex","colSpan","_c","$RefreshReg$"],"sources":["D:/xampp/htdocs/IoT/IoT-WebApp/frontend/src/components/Table.jsx"],"sourcesContent":["// src/components/Table.jsx\r\nimport React, { useState, useMemo } from 'react';\r\n// import './Table.css'; // Đảm bảo bạn có file CSS này nếu cần\r\n\r\n/**\r\n * Component Table chung cho DataSensor và ActionsHistory\r\n * @param {Array} headers - Mảng tiêu đề cột\r\n * @param {Array} data - Dữ liệu bảng (mảng các đối tượng)\r\n * @param {string} title - Tiêu đề của bảng\r\n */\r\nconst Table = ({ \r\n    headers = [], \r\n    data = [], // SỬA LỖI QUAN TRỌNG 1: Đặt giá trị mặc định là mảng rỗng []\r\n    title = 'Dữ liệu Bảng', \r\n    initialPageSize = 10 \r\n}) => {\r\n    \r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [pageSize, setPageSize] = useState(initialPageSize);\r\n    \r\n    // SỬA LỖI QUAN TRỌNG 2: Đảm bảo data luôn là một mảng và được ghi nhớ (memoized)\r\n    const memoizedData = useMemo(() => {\r\n        // Nếu data không phải mảng, trả về mảng rỗng để ngăn lỗi .slice()\r\n        return Array.isArray(data) ? data : [];\r\n    }, [data]);\r\n\r\n    // Logic tính toán phân trang\r\n    const totalItems = memoizedData.length;\r\n    const totalPages = Math.ceil(totalItems / pageSize);\r\n    const startIndex = (currentPage - 1) * pageSize;\r\n    \r\n    // currentData được tính toán trên mảng đã được kiểm tra (memoizedData)\r\n    const currentData = memoizedData.slice(startIndex, startIndex + pageSize); \r\n\r\n    const handlePageChange = (newPage) => {\r\n        if (newPage >= 1 && newPage <= totalPages) {\r\n            setCurrentPage(newPage);\r\n        }\r\n    };\r\n    \r\n    const handlePageSizeChange = (e) => {\r\n        const newSize = parseInt(e.target.value);\r\n        setPageSize(newSize);\r\n        setCurrentPage(1); // Reset về trang 1 khi thay đổi kích thước trang\r\n    };\r\n\r\n    return (\r\n        <div className=\"custom-table-container card\">\r\n            <div className=\"table-header-controls\">\r\n                <h3 className=\"table-title\">{title}</h3>\r\n                <div className=\"pagination-controls\">\r\n                    \r\n                    <label className=\"page-size-label\">\r\n                        Kích thước:\r\n                        <select value={pageSize} onChange={handlePageSizeChange} className=\"page-size-select\">\r\n                            <option value={5}>5</option>\r\n                            <option value={10}>10</option>\r\n                            <option value={20}>20</option>\r\n                        </select>\r\n                    </label>\r\n\r\n                    <span className=\"page-info\">\r\n                        Trang {currentPage} trên {totalPages}\r\n                    </span>\r\n                    \r\n                    <button onClick={() => handlePageChange(currentPage - 1)} disabled={currentPage === 1} className=\"page-button\">\r\n                        &lt; Trước\r\n                    </button>\r\n                    <button onClick={() => handlePageChange(currentPage + 1)} disabled={currentPage === totalPages} className=\"page-button\">\r\n                        Sau &gt;\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"table-wrapper\">\r\n                <table className=\"data-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            {headers.map((header, index) => (\r\n                                <th key={index}>{header}</th>\r\n                            ))}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {currentData.length > 0 ? (\r\n                            currentData.map((row, rowIndex) => (\r\n                                <tr key={rowIndex}>\r\n                                    {/* Duyệt qua các cột trong hàng, chỉ hiển thị giá trị */}\r\n                                    {headers.map((header, colIndex) => (\r\n                                        <td key={colIndex}>\r\n                                            {/* Giả định key của đối tượng row khớp với header (ví dụ: row['id'], row['Temperature']) */}\r\n                                            {row[header]}\r\n                                        </td>\r\n                                    ))}\r\n                                </tr>\r\n                            ))\r\n                        ) : (\r\n                            <tr>\r\n                                <td colSpan={headers.length} className=\"no-data-message\">\r\n                                    {totalItems === 0 ? \"Không có dữ liệu để hiển thị.\" : \"Không tìm thấy dữ liệu trên trang này.\"}\r\n                                </td>\r\n                            </tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Table;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}